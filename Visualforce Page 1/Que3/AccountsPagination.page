<apex:page controller="PaginationController" sidebar="false">
    <apex:form >
        <apex:pageBlock title="{!$Label.Account}">
            <apex:pageBlockSection columns="1">
                <apex:inputText id="billingCity" label="{!$Label.Billing_City}" value="{!billingCity}"/>
                <apex:inputText id="billingState" label="{!$Label.Billing_State}" value="{!billingState}"/>
                <apex:inputText id="billingCountry" label="{!$Label.Billing_Country}" value="{!billingCountry}"/>
                <apex:commandButton value="{!$Label.Search}" action="{!getAccounts}" reRender="filter">
                </apex:commandButton>
            </apex:pageBlockSection>
        </apex:pageBlock>
        
        <apex:pageBlock title="{!$Label.Accounts_List}" id="filter">
            <apex:pageBlockButtons >
                <div style="text-align:right">
                    <apex:selectList id="pagesToShow" value="{!size}" size="1">
                        <apex:selectOption itemValue="5" itemLabel="5"/>
                        <apex:selectOption itemValue="10" itemLabel="10"/>
                        <apex:selectOption itemValue="15" itemLabel="15"/>
                        <apex:actionSupport event="onchange" action="{!getAccounts}" reRender="filter"/>
                    </apex:selectList>
                </div>
                <div style="text-align:right">
                    Total Records Found: {!controllerInstance.resultSize} 
                    <apex:commandButton value="{!$Label.First_Page}" rendered="{!controllerInstance.HasPrevious}" action="{!First}"/>
                    <apex:commandButton value="{!$Label.Previous_Page}" rendered="{!controllerInstance.HasPrevious}" action="{!Previous}"/>          
                    <apex:commandButton value="{!$Label.Next_Page}" rendered="{!controllerInstance.HasNext}" action="{!Next}"/>
                    <apex:commandButton value="{!$Label.Last_Page}" rendered="{!controllerInstance.HasNext}" action="{!Last}"/>
                </div>
            </apex:pageBlockButtons>
            
            <apex:pageBlockSection columns="1">
                <apex:pageBlockTable value="{! results }" var="accountInstance">
                    <apex:column value="{!accountInstance.Name}"/>
                    <apex:column value="{!accountInstance.BillingCity}"/>
                    <apex:column value="{!accountInstance.BillingState}"/>
                    <apex:column value="{!accountInstance.BillingCountry}"/>
                </apex:pageBlockTable>
            </apex:pageBlockSection>
        </apex:pageBlock>
    </apex:form>
</apex:page>